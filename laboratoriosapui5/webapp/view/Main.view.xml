<mvc:View controllerName="sapui5.laboratoriosapui5.controller.Main"
    xmlns:mvc="sap.ui.core.mvc" displayBlock="true"
    xmlns="sap.m">
    <Page id="page" title="{i18n>title}">

        
        
           <Panel headerText="Clientes" class="sapUiSmallMargin"  width="80%" height="50%">
                <Table id="tClientes"   growing="true" growingThreshold="20"  items="{path:'laboratorio>/ClientesSet', parameters: {expand: 'Integrantes'}}" >
               <columns>
                   <Column >
                       <header>
                           <Label text="{i18n>Id}"></Label>
                       </header>
                   </Column>
                   
                   <Column >
                       <header>
                           <Label text="{i18n>Nombres}"></Label>
                       </header>
                   </Column>
                   <Column >
                       <header>
                           <Label text="{i18n>Calle}"></Label>
                       </header>
                   </Column>
                   <Column >
                       <header>
                           <Label text="{i18n>Ciudad}"></Label>
                       </header>
                   </Column>
                    <Column >
                       <header>
                           <Label text="{i18n>Pais}"></Label>
                       </header>
                   </Column>
                    <Column >
                       <header>
                           <Label text="{i18n>Telefono}"></Label>
                       </header>
                   </Column>
                    <Column >
                       <header>
                           <Label text="{i18n>Cliente E/P}"></Label>
                       </header>
                   </Column>
                    <Column >
                       <header>
                           <Label text="{i18n>Descuento (%)}"></Label>
                       </header>
                   </Column>
                    <Column >
                       <header>
                           <Label text="{i18n>Correo}"></Label>
                       </header>
                   </Column>
                   <Column >
                       <header>
                           <Label text="{i18n>Sitio Web}"></Label>
                       </header>
                   </Column>
                   <Column >
                    <header>
                        <Label text=""></Label>
                    </header>
                </Column>
               </columns>
               <items >
                   <ColumnListItem  type=  "{= ${laboratorio>Custtype} === 'P' ? 'Active' : 'Inactive' }"  press=".onItemPress">
                       <cells>
                           <Label text="{laboratorio>Id}"></Label>
                           <Label text="{laboratorio>Name}"></Label>
                           <Label text="{laboratorio>Street}"></Label>
                           <Label text="{laboratorio>City}"></Label>
                           <Label text="{laboratorio>Country}"></Label>
                           <Label text="{laboratorio>Telephone}"></Label>
                           <Label text="{path: 'laboratorio>Custtype', formatter: '.tipoCliente'}"></Label>
                          
                           <Label text="{laboratorio>Discount}"></Label>
                           <Label text="{laboratorio>Email}"></Label>
                           <Label text="{laboratorio>Webuser}"></Label>
       
                          <Button icon="sap-icon://edit" press=".onEdit"  visible ="{= ${laboratorio>Custtype} === 'P' ? true : false }" />
                       </cells>

                   </ColumnListItem>
               </items>
           </Table>
                   
           </Panel>
           <Panel id= "pIntegrantes"   class="sapUiSmallMargin"  width="80%" height="30%"  visible="false">
                 
                <headerToolbar>
                    <Toolbar>
                        <content>
                            <Title text="Integrantes" level="H2"/><ToolbarSpacer/>
                            <Button text="Agregar" press="onAgregarClick" class="headerButton"/>
                        </content>
                    </Toolbar>
                </headerToolbar>
                <Table id="tIntegrantes"  items="{laboratorio>Integrantes}">
                    <columns>
                        <Column >
                            <header>
                                <Label text="{i18n>Nombre}"></Label>
                            </header>
                        </Column>
                        
                        <Column >
                            <header>
                                <Label text="{i18n>Relacion}"></Label>
                            </header>
                        </Column>
                        <Column >
                            <header>
                                <Label text="{i18n>Edad}"></Label>
                            </header>
                        </Column>
                        <Column >
                            <header>
                                <Label text="{i18n>Sexo}"></Label>
                            </header>
                        </Column>
                        <Column >
                            <header>
                                <Label text="{i18n>Acciones}"></Label>
                            </header>
                        </Column>    
    
                    </columns>
                    <items >
                        <ColumnListItem >
                            <cells>
                                <Label text="{laboratorio>Nombre}"></Label>
                                <Label text="{laboratorio>Relacion}"></Label> 
                                <Label  text="{path: 'laboratorio>FecNac', formatter: '.edad'}" ></Label>
                                <Label text="{laboratorio>Sexo}"></Label>
                                <HBox>
                                    <Button icon="sap-icon://edit" press="onEditPress"/>
                                    <Button icon="sap-icon://delete" press="onDeletePress"/>
                                </HBox>
                            </cells>
    
                        </ColumnListItem>
                    </items>
                </Table>
                   
           </Panel>
                   
          
           
        
        
   </Page>
</mvc:View>
